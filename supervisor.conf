[program:flask-layout]
; 程序名称
command=/usr/bin/gunicorn --config /path/to/flask-layout/gunicorn.conf.py wsgi:app
; 启动命令，请根据实际路径修改

; 工作目录
directory=/path/to/flask-layout
; 请修改为实际的项目路径

; 运行用户
user=www-data
; 根据实际情况修改用户，如：www-data, nginx, flask等

; 自动启动
autostart=true

; 自动重启
autorestart=true

; 启动重试次数
startretries=3

; 启动延迟（秒）
startsecs=5

; 停止信号
stopsignal=TERM

; 停止等待时间（秒）
stopwaitsecs=10

; 停止时是否杀死整个进程组
stopasgroup=true

; 杀死进程组时是否发送KILL信号
killasgroup=true

; 优先级
priority=999

; 环境变量
environment=
    FLASK_ENV="production",
    PATH="/usr/local/bin:/usr/bin:/bin",
    PYTHONPATH="/path/to/flask-layout"
; 请根据实际情况修改环境变量

; 标准输出日志文件
stdout_logfile=/var/log/flask-layout/supervisor_stdout.log

; 标准错误日志文件
stderr_logfile=/var/log/flask-layout/supervisor_stderr.log

; 日志文件大小（0表示不轮转）
stdout_logfile_maxbytes=50MB
stderr_logfile_maxbytes=50MB

; 日志文件备份数量
stdout_logfile_backups=10
stderr_logfile_backups=10

; 是否捕获输出
capture_output=true

; 重定向stderr到stdout
redirect_stderr=true

; 日志级别
loglevel=info

